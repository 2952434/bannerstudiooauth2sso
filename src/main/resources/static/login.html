<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>江南一点雨</title>

    <link rel="stylesheet" href="css/font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/style.css">

</head>
<body>

<div th:if="${param.error}">
    <span th:text="用户名或者密码错误"></span>
<!--    <span th:text="${session.SPRING_SECURITY_LAST_EXCEPTION?.message}" style="color:red">用户名或密码错误</span>-->
</div>
<div class="materialContainer">
    <div class="box">
        <div class="title">统一认证中心</div>
        <div>
<!--        <form action="/login" method="post">-->
            <div class="input">
                <label for="name">用户名</label>
                <input type="text" name="username" id="name">
                <span class="spin"></span>
            </div>
            <div class="input">
                <label for="pass">密码</label>
                <input type="password" name="password" id="pass">
                <span class="spin"></span>
            </div>
            <div class="button login">
                <button type="button" onclick="test()">
                    <span>登录</span>
                    <i class="fa fa-check"></i>
                </button>
            </div>
<!--        </form>-->
        </div>
        <a href="javascript:" class="pass-forgot">忘记密码？</a>
    </div>

    <div class="overbox">
        <div class="material-button alt-2">
            <span class="shape"></span>
        </div>
        <div class="title">江南一点雨-注册</div>
        <div class="input">
            <label for="regname">用户名</label>
            <input type="text" name="regname" id="regname">
            <span class="spin"></span>
        </div>
        <div class="input">
            <label for="regpass">密码</label>
            <input type="password" name="regpass" id="regpass">
            <span class="spin"></span>
        </div>
        <div class="input">
            <label for="reregpass">确认密码</label>
            <input type="password" name="reregpass" id="reregpass">
            <span class="spin"></span>
        </div>
        <div class="button">
            <button>
                <span>注册</span>
            </button>
        </div>
    </div>

</div>

<script src="js/jquery.min.js"></script>
<script>
    function test() {
        alert(1111)
        console.log($("#name").val());
        console.log($("#pass").val());
        $.ajax({
            url:"/login",
            type:"POST",
            dataType:"JSON",
            // async:true,
            data:{
                username:$("#name").val(),
                password:$("#pass").val(),
            },
            success:function(data){
                console.log(data.code)
                console.log(data)
                if(data.code==200){
                    console.log(data)
                    alert("成功，ok");
                }
            },
            error:function(data){
                console.log(data)
                alert(data)
                alert("异常")
            }
        });
    }

    // function GetRequest() {
    //     var url = location.search; //获取url中"?"符后的字串
    //     var theRequest = new Object();
    //     // if (url.indexOf("?") !== -1) {
    //     //     var str = url.substr(1);
    //     //     strs = str.split("&");
    //     //     for(var i = 0; i < strs.length; i ++) {
    //     //         theRequest[strs[i].split("=")[0]]=decodeURI(strs[i].split("=")[1]);
    //     //     }
    //     // }
    //     alert(url)
    //     return theRequest;
    // }
    // //调用
    // var Request = GetRequest();
    // var error;
    // error = Request['error'];
    // console.log(error)
    // alert(error)
</script>
<script src="js/index.js"></script>

</body>
</html>






<!--<!DOCTYPE html>-->
<!--<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>登录</title>-->
<!--</head>-->

<!--<style>-->
<!--    .login-container {-->
<!--        margin: 50px;-->
<!--        width: 100%;-->
<!--    }-->

<!--    .form-container {-->
<!--        margin: 0px auto;-->
<!--        width: 50%;-->
<!--        text-align: center;-->
<!--        box-shadow: 1px 1px 10px #888888;-->
<!--        height: 300px;-->
<!--        padding: 5px;-->
<!--    }-->

<!--    input {-->
<!--        margin-top: 10px;-->
<!--        width: 350px;-->
<!--        height: 30px;-->
<!--        border-radius: 3px;-->
<!--        border: 1px #E9686B solid;-->
<!--        padding-left: 2px;-->

<!--    }-->


<!--    .btn {-->
<!--        width: 350px;-->
<!--        height: 35px;-->
<!--        line-height: 35px;-->
<!--        cursor: pointer;-->
<!--        margin-top: 20px;-->
<!--        border-radius: 3px;-->
<!--        background-color: #E9686B;-->
<!--        color: white;-->
<!--        border: none;-->
<!--        font-size: 15px;-->
<!--    }-->

<!--    .title{-->
<!--        margin-top: 5px;-->
<!--        font-size: 18px;-->
<!--        color: #E9686B;-->
<!--    }-->
<!--</style>-->
<!--<body>-->
<!--<div class="login-container">-->
<!--    <div class="form-container">-->
<!--        <p class="title">用户登录</p>-->
<!--        <form name="loginForm" method="post" th:action="/login">-->
<!--            <input type="text" name="username" placeholder="用户名"/>-->
<!--            <br>-->
<!--            <input type="password" name="password" placeholder="密码"/>-->
<!--            <br>-->
<!--            <button type="submit" class="btn">登 &nbsp;&nbsp; 录</button>-->
<!--        </form>-->
<!--        <div th:if="${param.error} ne null">-->
<!--            <p style="color: red" >用户名或密码错误</p>-->
<!--        </div>-->

<!--    </div>-->
<!--</div>-->
<!--</body>-->
<!--</html>-->